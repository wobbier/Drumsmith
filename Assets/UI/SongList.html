<!DOCTYPE html>
<html>
<style>
    body {
        margin: 0;
        background-color: #0000001c;
        color: #ffffff;
    }
    .no-select {
        -webkit-touch-callout: none; /* iOS Safari */
            -webkit-user-select: none; /* Safari */
            -khtml-user-select: none; /* Konqueror HTML */
            -moz-user-select: none; /* Old versions of Firefox */
                -ms-user-select: none; /* Internet Explorer/Edge */
                    user-select: none; /* Non-prefixed version, currently */
    }

    .main-container {
        display: flex;
        flex-direction: column;
        height: 100vh; /* Adjust this as per your requirement */
    }

    .header {
        height: auto;
    }

    .content {
        flex-grow: 1;
        display: flex;
    }

    #background {
        background-color: #000000ab;
        z-index: -99;
        position: fixed;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
    }

    #myDivContainer {
        flex-grow: 1;
        overflow: scroll;
    }

    #trackDetails {
        width: 200px;
    }

    .dynamic-div {
        margin-bottom: 10px;
    }

    .dynamic-div::after {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        height: 20%; /* Adjust this value to control the height of the fade */
        -webkit-mask-image: -webkit-gradient(linear, left 90%, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)))
        /* Use rgba(0, 0, 0, 0) to rgba(0, 0, 0, 1) for a black fade */
    }

    .dynamic-div:hover {
        background-color: rgba(97, 97, 97, 0.192);
    }

    .dynamic-div .album-art {
        width: 150px;
        height: 150px;
        background-size: cover;
        background-color: white;
        float: left;
    }

    .dynamic-div .album-title {
        float: left;
        width: max-content;
        padding-left: 10px;
    }

    .dynamic-div .album-stats {
        float: left;
    }

    .dynamic-div .note-count {
        float: right;
    }
    .clearfix::after {
        content: "";
        clear: both;
        display: table;
    }
</style>
</style>

<head>
</head>

<body>
    <div id="background"></div>
    <div class="main-container no-select">
        <div class="header">
            <img src="file:///Assets/Textures/2x/Asset 2@2x.png" />
            <br />
            <img src="file:///Assets/Textures/Bar3.png" />

            <a href="#" onclick="ToggleTrackListVisibility()">View Track List</a>

            <a href="#" onclick="fillDivs()">Fill Divs</a>
        </div>
        <div class="content">
            <!-- Parent div where dynamic divs will be added -->
            <div id="myDivContainer">
                <div class="dynamic-div" onclick="PlaySound('Assets/DLC/ExampleSong/Track.mp3')">
                    <div class="album-art"
                        style="background-image: url('https://magazine.artland.com/wp-content/uploads/2020/02/Webp.net-compress-image-67-1.jpg');">
                    </div>
                    <div class="album-title">
                        <h1>Album Title</h1>
                        <h2>Album Artist</h2>
                    </div>
                    <div class="note-count">23</div>
                    <div class="clearfix"></div>
                </div>
            </div>
            <div id="trackDetails">
                Test
            </div>
        </div>
    </div>
    <script>
        function ClearTrackList() {
            // Fetch the container div
            const containerDiv = document.getElementById('myDivContainer');

            // Clear previous divs
            const oldDivs = containerDiv.querySelectorAll('.dynamic-div');
            oldDivs.forEach(div => div.remove());
        }

        function ToggleTrackListVisibility() {
            var x = document.getElementById("myDivContainer");
            var bg = document.getElementById("background");
            if (x.style.display === "none") { //  || x.style.display === ""
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
            
            if (bg.style.display === "none") { //  || x.style.display === ""
                bg.style.display = "block";
            } else {
                bg.style.display = "none";
            }
        }

        function AddTrack(track) {
            // Fetch the container div
            const containerDiv = document.getElementById('myDivContainer');
            const dynamicDiv = document.createElement('div');
            dynamicDiv.classList.add('dynamic-div');

            dynamicDiv.innerHTML = `
            <div class="dynamic-div" onclick="SelectTrackToPlay('${track.TrackName}'); ToggleTrackListVisibility();" onmousehover="PlaySound('${track.TrackSource}')">
            <div class="album-art" style="background-image: url('file:///${track.AlbumArt}');">
            </div>
            <div class="album-title">
                <h1>${track.TrackName}</h1>
                <h2>${track.ArtistName}</h2>
            </div>
            <div class="note-count">Note Count: ${track.NoteCount}</div>
            <div class="clearfix"></div>
        </div>`;

            // Create and append text content
            //const textNode = document.createTextNode(track);
            //dynamicDiv.appendChild(textNode);

            //// Create and append image
            //const image = document.createElement('img');
            //image.src = "file:///" + imageSrc;
            //image.alt = track;
            //dynamicDiv.appendChild(image);

            containerDiv.appendChild(dynamicDiv);
        }
        function fillDivs() {
            // Fetch the container div
            const containerDiv = document.getElementById('myDivContainer');
            //ClearTrackList();
            // Sample data to populate the divs
            const items = [
                { TrackName: 'Data 1', ArtistName: 'Data 1', AlbumArt: '../DLC/ExampleSong/this_suffering_cover.jpg' },
                { TrackName: 'Data 2', ArtistName: 'Data 2', AlbumArt: 'file:///M:/Projects/ME/Drumsmith/Assets/DLC/ExampleSong2/album.jpg' },
                { TrackName: 'Data 3', ArtistName: 'Data 3', AlbumArt: 'image3.jpg' },
                { TrackName: 'Data 4', ArtistName: 'Data 4', AlbumArt: 'image4.jpg' }
            ];

            // Loop through each item and create a div for it
            items.forEach(item => {
                AddTrack(item);
                //const dynamicDiv = document.createElement('div');
                //dynamicDiv.classList.add('dynamic-div');
                //// Create and append text content
                //const textNode = document.createTextNode(item.text);
                //dynamicDiv.appendChild(textNode);
                //
                //// Create and append image
                //const image = document.createElement('img');
                //image.src = item.imgSrc;
                //image.alt = item.text;
                //dynamicDiv.appendChild(image);
                //
                //containerDiv.appendChild(dynamicDiv);
            });
        }
    </script>

</body>

</html>