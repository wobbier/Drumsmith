(function(){"use strict";var t={8188:function(t,e,l){var r=l(5130),n=l(6768),i=l(4232);const a=(0,n.Lk)("div",{id:"header",class:"header"},[(0,n.Lk)("button",{class:"filter-button",onclick:"LoadScene('Assets/MainMenu.lvl')"},[(0,n.Lk)("img",{src:"file:///Assets/UI/Textures/Esc_Key_Light.png",alt:"Icon"}),(0,n.Lk)("span",null,"Main Menu")]),(0,n.Lk)("button",{class:"filter-button",onclick:"ToggleTrackListVisibility()"},[(0,n.Lk)("span",null,"View Track List")])],-1),s={id:"sidebar",class:"sidebar"},o={id:"trackPanel",class:"content"},c={id:"trackDetails"},u={id:"myDivContainer",class:"main-content"},k={class:"dynamic-div BoldRegular Large"},d=(0,n.Lk)("div",{class:"clearfix"},null,-1),f=["onClick"],y=["onClick","onMouseenter"],m={key:0,class:"album-art",src:"file:///{{track.AlbumArt}}"},L=["src"],h={class:"album-title"},T={class:"BoldRegular Large"},p={class:"Regular Small"},v={class:"note-count"},b={key:0,onclick:"EditTrack('${track.TrackName}')"},g={key:1,onclick:"DownloadDLC('${track.FolderPath}')"},A=(0,n.Lk)("div",{class:"clearfix"},null,-1),C=(0,n.Lk)("div",{id:"filterMenu",class:"flyout right"},[(0,n.Lk)("p",{class:"hover-underline-animation",onclick:"closeFlyout('filterMenu');"}," < Back "),(0,n.Lk)("br"),(0,n.Lk)("h1",null,"Sort"),(0,n.Lk)("br"),(0,n.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(0); closeFlyout('filterMenu');"}," Default "),(0,n.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(1); closeFlyout('filterMenu');"}," Title "),(0,n.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(2); closeFlyout('filterMenu');"}," Artist "),(0,n.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(3); closeFlyout('filterMenu');"}," Year "),(0,n.Lk)("br"),(0,n.Lk)("h1",null,"Filter"),(0,n.Lk)("br"),(0,n.Lk)("div",{id:"TrackFilters"},[(0,n.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterTracks(0); closeFlyout('filterMenu');"}," None "),(0,n.Lk)("br")])],-1),D=(0,n.Lk)("div",{class:"footer"},[(0,n.Lk)("button",{class:"openButton filter-button",onclick:"openFlyout('filterMenu')"},[(0,n.Lk)("img",{class:"openButton",src:"file:///Assets/UI/Textures/Tab_Key_Light.png",alt:"Icon"}),(0,n.Lk)("span",{class:"openButton"},"Sorting (Ascending)")])],-1);function E(t,e,l,r,E,F){const w=(0,n.g2)("DetailsPanel");return(0,n.uX)(),(0,n.CE)(n.FK,null,[a,(0,n.Lk)("div",s,[(0,n.Lk)("div",o,[(0,n.Lk)("div",c,[null!=this.focusedTrack?((0,n.uX)(),(0,n.Wv)(w,{key:0,track:this.focusedTrack},null,8,["track"])):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",u,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(F.sortedSections,((e,l)=>((0,n.uX)(),(0,n.CE)("div",{key:l,class:"section"},[(0,n.Lk)("div",k,(0,i.v_)(e.header),1),d,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.items,((e,l)=>((0,n.uX)(),(0,n.CE)("div",{key:l,class:"dynamic-div",onClick:l=>t.playSound(e.TrackSource)},[(0,n.Lk)("div",{class:"dynamic-div",onClick:t=>{F.SelectTrackToPlay(e.Title,l),F.ToggleTrackListVisibility()},onMouseenter:t=>F.DelayedTrackPreview(e)},[e?.FolderPath?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("img",m)),e?.FolderPath?((0,n.uX)(),(0,n.CE)("img",{key:1,class:"album-art",src:`http://${this.TryGetDLCURL()}/${e.FolderPath}/${e.AlbumArtFileName}`},null,8,L)):(0,n.Q3)("",!0)],40,y),(0,n.Lk)("div",h,[(0,n.Lk)("h1",T,(0,i.v_)(e.Title),1),(0,n.Lk)("h2",p,(0,i.v_)(e.Artist),1),(0,n.Lk)("h3",null,(0,i.v_)(e.Year),1)]),(0,n.Lk)("div",v,"Note Count: "+(0,i.v_)(e.NoteCount),1),F.TryAreToolsEnabled()?((0,n.uX)(),(0,n.CE)("div",b,"DEV TOOLS ENABLED")):(0,n.Q3)("",!0),e?.FolderPath?((0,n.uX)(),(0,n.CE)("div",g,"DOWNLOAD TRACK")):(0,n.Q3)("",!0),A],8,f)))),128))])))),128))]),C,D],64)}l(4114);const F={class:"album-art"},w={key:0,class:"album-art",src:"file:///{{track.AlbumArt}}"},P=["src"],x={class:"album-title"},S={class:"note-count"},U=(0,n.Lk)("div",{class:"clearfix"},null,-1);function M(t,e,l,r,a,s){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",F,[l.track?.FolderPath?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("img",w)),l.track?.FolderPath?((0,n.uX)(),(0,n.CE)("img",{key:1,class:"album-art",src:`http://${l.track.DLCURL}/${l.track.FolderPath}/${l.track.AlbumArtFileName}`},null,8,P)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",{class:"dynamic-div",onClick:e[0]||(e[0]=t=>{s.selectTrackToPlay(l.track.Title),s.toggleTrackListVisibility()})},[(0,n.Lk)("div",x,[(0,n.Lk)("h1",null,(0,i.v_)(l.track.Title),1),(0,n.Lk)("h2",null,(0,i.v_)(l.track.Artist),1),(0,n.Lk)("h3",null,(0,i.v_)(l.track.Album),1),(0,n.Lk)("h3",null,(0,i.v_)(l.track.Genre),1),(0,n.Lk)("h3",null,(0,i.v_)(l.track.Year),1)]),(0,n.Lk)("div",S,"Note Count: "+(0,i.v_)(l.track.NoteCount),1),U]),(0,n.Lk)("div",{class:"dynamic-div",onClick:e[1]||(e[1]=t=>s.viewTrackStats(l.track.Title))}," View Stats ")],64)}var N={props:{track:{type:Object,required:!0}},methods:{selectTrackToPlay(t){console.log("Track selected:",t)},toggleTrackListVisibility(){console.log("Toggled track list visibility")},viewTrackStats(t){console.log("Viewing stats for track:",t)}}},_=l(1241);const B=(0,_.A)(N,[["render",M]]);var I,O=B,j={name:"DLC",components:{DetailsPanel:O},data(){return{tracks:[],sortBy:"Title",dlcIndex:[],focusedTrack:null}},mounted(){this.fetchDlcIndex(),window.UpdateDetailsPanel=this.UpdateDetailsPanel},computed:{sortedSections(){const t=this.tracks.reduce(((t,e)=>{let l;if("Artist"===this.sortBy){const t=e.Artist?e.Artist.trim():"Unknown";l=t[0]?.toUpperCase()||"Unknown"}else if("Title"===this.sortBy){const t=e.Title?e.Title.trim():"Unknown";l=t[0]?.toUpperCase()||"Unknown"}else l=e[this.sortBy]||"Unknown";return t[l]||(t[l]=[]),t[l].push(e),t}),{});return Object.keys(t).sort().map((e=>({header:e,items:t[e].sort(((t,e)=>"Artist"===this.sortBy?t.Artist.localeCompare(e.Artist):t[this.sortBy]?.toString().localeCompare(e[this.sortBy]?.toString()||"")))})))}},methods:{async fetchDlcIndex(){try{const t=await fetch("https://dlc.mitch.gg/dlc_index.json");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);this.dlcIndex=await t.json(),this.dlcIndex.forEach((t=>{t.AlbumArtFileName||(t.AlbumArtFileName="Album.png"),this.AddTrack(t)}))}catch(t){console.error("Error fetching DLC index:",t)}},TryGetDLCURL(){return"function"===typeof GetDLCURL?GetDLCURL():"test.domain.com"},RequestDetailsPanelUpdate2(t){if("function"===typeof RequestDetailsPanelUpdate)return RequestDetailsPanelUpdate(t)},SelectTrackToPlay(t,e){console.log(`SelectTrackToPlay called with Title: ${t}, Index: ${e}`)},DelayedTrackPreview(t){clearTimeout(I),this.focusedTrack=t,this.focusedTrack.DLCURL=this.TryGetDLCURL(),console.log(t)},ClearTrackList(){const t=document.getElementById("myDivContainer"),e=t.querySelectorAll(".dynamic-div");e.forEach((t=>t.remove()))},ToggleTrackListVisibility(){var t=document.getElementById("sidebar"),e=document.getElementById("background"),l=document.getElementById("main-body");"none"===t.style.display?t.style.display="flex":t.style.display="none","none"===e.style.display?e.style.display="block":e.style.display="none","none"===l.style.display?l.style.display="block":l.style.display="none"},TryAreToolsEnabled(){return"function"===typeof AreToolsEnabled&&AreToolsEnabled()},AddTrack(t){this.tracks.push(t)},UpdateDetailsPanel(t){},fillDivs(){const t=[{TrackName:"Data 1",ArtistName:"Data 1",AlbumArt:"../DLC/ExampleSong/this_suffering_cover.jpg"},{TrackName:"Data 2",ArtistName:"Data 2",AlbumArt:"file:///M:/Projects/ME/Drumsmith/Assets/DLC/ExampleSong2/album.jpg"},{TrackName:"Data 3",ArtistName:"Data 3",AlbumArt:"image3.jpg"},{TrackName:"Data 4",ArtistName:"Data 4",AlbumArt:"image4.jpg"}];t.forEach((t=>{this.AddTrack(t)}))},SetFilters(t){const e=document.getElementById("TrackFilters");e.innerHTML="",t.forEach((t=>{e.innerHTML+=`<p\n    class="menu-text flyout-select"\n    onclick="FilterTracks(${t.FilterID}); closeFlyout('filterMenu');"\n  >\n  ${t.FilterName} (${t.Count})\n  </p>`})),e.innerHTML+="\n  <br />\n  <br />"}}};const R=(0,_.A)(j,[["render",E]]);var $=R;(0,r.Ef)($).mount("#app")}},e={};function l(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,l),i.exports}l.m=t,function(){var t=[];l.O=function(e,r,n,i){if(!r){var a=1/0;for(u=0;u<t.length;u++){r=t[u][0],n=t[u][1],i=t[u][2];for(var s=!0,o=0;o<r.length;o++)(!1&i||a>=i)&&Object.keys(l.O).every((function(t){return l.O[t](r[o])}))?r.splice(o--,1):(s=!1,i<a&&(a=i));if(s){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[r,n,i]}}(),function(){l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,{a:e}),e}}(),function(){l.d=function(t,e){for(var r in e)l.o(e,r)&&!l.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={686:0};l.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,i,a=r[0],s=r[1],o=r[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);if(o)var u=o(l)}for(e&&e(r);c<a.length;c++)i=a[c],l.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return l.O(u)},r=self["webpackChunkui"]=self["webpackChunkui"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=l.O(void 0,[504],(function(){return l(8188)}));r=l.O(r)})();
//# sourceMappingURL=DLC.js.map