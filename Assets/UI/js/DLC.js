(function(){"use strict";var t={21:function(t,e,l){var n=l(5130),r=l(6768),i=l(4232);const a=(0,r.Lk)("div",{id:"header",class:"header"},[(0,r.Lk)("button",{class:"filter-button",onclick:"LoadScene('Assets/MainMenu.lvl')"},[(0,r.Lk)("img",{src:"img/Esc_Key_Light.png",alt:"Icon"}),(0,r.Lk)("span",null,"Main Menu")]),(0,r.Lk)("button",{class:"filter-button",onclick:"ToggleTrackListVisibility()"},[(0,r.Lk)("span",null,"View Track List")])],-1),o={id:"sidebar",class:"sidebar"},s={id:"trackPanel",class:"content"},c={id:"trackDetails"},u={id:"myDivContainer",class:"main-content"},k={class:"dynamic-div BoldRegular Large"},d=(0,r.Lk)("div",{class:"clearfix"},null,-1),y=["onClick"],f=["onClick","onMouseenter"],m={key:0,class:"album-art",src:"file:///{{track.AlbumArt}}"},L=["src"],T={class:"album-title"},p={class:"BoldRegular Large"},h={class:"Regular Small"},v={class:"note-count"},g=["onClick"],b=["onClick"],C=(0,r.Lk)("div",{class:"clearfix"},null,-1),A=(0,r.Lk)("div",{id:"filterMenu",class:"flyout right"},[(0,r.Lk)("p",{class:"hover-underline-animation",onclick:"closeFlyout('filterMenu');"}," < Back "),(0,r.Lk)("br"),(0,r.Lk)("h1",null,"Sort"),(0,r.Lk)("br"),(0,r.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(0); closeFlyout('filterMenu');"}," Default "),(0,r.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(1); closeFlyout('filterMenu');"}," Title "),(0,r.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(2); closeFlyout('filterMenu');"}," Artist "),(0,r.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(3); closeFlyout('filterMenu');"}," Year "),(0,r.Lk)("br"),(0,r.Lk)("h1",null,"Filter"),(0,r.Lk)("br"),(0,r.Lk)("div",{id:"TrackFilters"},[(0,r.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterTracks(0); closeFlyout('filterMenu');"}," None "),(0,r.Lk)("br")])],-1),D=(0,r.Lk)("div",{class:"footer"},[(0,r.Lk)("button",{class:"openButton filter-button",onclick:"openFlyout('filterMenu')"},[(0,r.Lk)("img",{class:"openButton",src:"img/Tab_Key_Light.png",alt:"Icon"}),(0,r.Lk)("span",{class:"openButton"},"Sorting (Ascending)")])],-1);function E(t,e,l,n,E,F){const w=(0,r.g2)("DetailsPanel");return(0,r.uX)(),(0,r.CE)(r.FK,null,[a,(0,r.Lk)("div",o,[(0,r.Lk)("div",s,[(0,r.Lk)("div",c,[null!=this.focusedTrack?((0,r.uX)(),(0,r.Wv)(w,{key:0,track:this.focusedTrack},null,8,["track"])):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",u,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(F.sortedSections,((e,l)=>((0,r.uX)(),(0,r.CE)("div",{key:l,class:"section"},[(0,r.Lk)("div",k,(0,i.v_)(e.header),1),d,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.items,((e,l)=>((0,r.uX)(),(0,r.CE)("div",{key:l,class:"dynamic-div",onClick:l=>t.playSound(e.TrackSource)},[(0,r.Lk)("div",{class:"dynamic-div",onClick:t=>{F.SelectTrackToPlay(e.Title,l),F.ToggleTrackListVisibility()},onMouseenter:t=>F.DelayedTrackPreview(e)},[e?.FolderPath?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("img",m)),e?.FolderPath?((0,r.uX)(),(0,r.CE)("img",{key:1,class:"album-art",src:`http://${this.TryGetDLCURL()}/${e.FolderPath}/${e.AlbumArtFileName}`},null,8,L)):(0,r.Q3)("",!0)],40,f),(0,r.Lk)("div",T,[(0,r.Lk)("h1",p,(0,i.v_)(e.Title),1),(0,r.Lk)("h2",h,(0,i.v_)(e.Artist),1),(0,r.Lk)("h3",null,(0,i.v_)(e.Year),1)]),(0,r.Lk)("div",v,"Note Count: "+(0,i.v_)(e.NoteCount),1),F.TryAreToolsEnabled()?((0,r.uX)(),(0,r.CE)("div",{key:0,onClick:()=>t.EditTrack(e.TrackName)},"DEV TOOLS ENABLED",8,g)):(0,r.Q3)("",!0),e?.FolderPath?((0,r.uX)(),(0,r.CE)("div",{key:1,onClick:()=>F.TryDownloadDLC(e)},"DOWNLOAD TRACK",8,b)):(0,r.Q3)("",!0),C],8,y)))),128))])))),128))]),A,D],64)}l(4114);const F={class:"album-art"},w={key:0,class:"album-art",src:"file:///{{track.AlbumArt}}"},P=["src"],S={class:"album-title"},x={class:"note-count"},N=(0,r.Lk)("div",{class:"clearfix"},null,-1);function M(t,e,l,n,a,o){return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",F,[l.track?.FolderPath?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("img",w)),l.track?.FolderPath?((0,r.uX)(),(0,r.CE)("img",{key:1,class:"album-art",src:`http://${l.track.DLCURL}/${l.track.FolderPath}/${l.track.AlbumArtFileName}`},null,8,P)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",{class:"dynamic-div",onClick:e[0]||(e[0]=t=>{o.selectTrackToPlay(l.track.Title),o.toggleTrackListVisibility()})},[(0,r.Lk)("div",S,[(0,r.Lk)("h1",null,(0,i.v_)(l.track.Title),1),(0,r.Lk)("h2",null,(0,i.v_)(l.track.Artist),1),(0,r.Lk)("h3",null,(0,i.v_)(l.track.Album),1),(0,r.Lk)("h3",null,(0,i.v_)(l.track.Genre),1),(0,r.Lk)("h3",null,(0,i.v_)(l.track.Year),1)]),(0,r.Lk)("div",x,"Note Count: "+(0,i.v_)(l.track.NoteCount),1),N]),(0,r.Lk)("div",{class:"dynamic-div",onClick:e[1]||(e[1]=t=>o.viewTrackStats(l.track.Title))}," View Stats ")],64)}var U={props:{track:{type:Object,required:!0}},methods:{selectTrackToPlay(t){console.log("Track selected:",t)},toggleTrackListVisibility(){console.log("Toggled track list visibility")},viewTrackStats(t){console.log("Viewing stats for track:",t)}}},_=l(1241);const B=(0,_.A)(U,[["render",M]]);var O,I=B,j={name:"DLC",components:{DetailsPanel:I},data(){return{tracks:[],sortBy:"Title",dlcIndex:[],focusedTrack:null}},mounted(){this.fetchDlcIndex(),window.UpdateDetailsPanel=this.UpdateDetailsPanel},computed:{sortedSections(){const t=this.tracks.reduce(((t,e)=>{let l;if("Artist"===this.sortBy){const t=e.Artist?e.Artist.trim():"Unknown";l=t[0]?.toUpperCase()||"Unknown"}else if("Title"===this.sortBy){const t=e.Title?e.Title.trim():"Unknown";l=t[0]?.toUpperCase()||"Unknown"}else l=e[this.sortBy]||"Unknown";return t[l]||(t[l]=[]),t[l].push(e),t}),{});return Object.keys(t).sort().map((e=>({header:e,items:t[e].sort(((t,e)=>"Artist"===this.sortBy?t.Artist.localeCompare(e.Artist):t[this.sortBy]?.toString().localeCompare(e[this.sortBy]?.toString()||"")))})))}},methods:{async fetchDlcIndex(){try{const t=await fetch("https://"+this.TryGetDLCURL()+"/dlc_index.json");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);this.dlcIndex=await t.json(),this.dlcIndex.forEach((t=>{t.AlbumArtFileName||(t.AlbumArtFileName="Album.png"),this.AddTrack(t)}))}catch(t){console.error("Error fetching DLC index:",t)}},TryGetDLCURL(){return"function"===typeof GetDLCURL?GetDLCURL():"test.domain.com"},TryDownloadDLC(t){"function"===typeof DownloadDLC&&DownloadDLC(JSON.stringify(t))},RequestDetailsPanelUpdate2(t){if("function"===typeof RequestDetailsPanelUpdate)return RequestDetailsPanelUpdate(t)},SelectTrackToPlay(t,e){console.log(`SelectTrackToPlay called with Title: ${t}, Index: ${e}`)},DelayedTrackPreview(t){clearTimeout(O),this.focusedTrack=t,this.focusedTrack.DLCURL=this.TryGetDLCURL(),console.log(t)},ClearTrackList(){const t=document.getElementById("myDivContainer"),e=t.querySelectorAll(".dynamic-div");e.forEach((t=>t.remove()))},ToggleTrackListVisibility(){var t=document.getElementById("sidebar"),e=document.getElementById("background"),l=document.getElementById("main-body");"none"===t.style.display?t.style.display="flex":t.style.display="none","none"===e.style.display?e.style.display="block":e.style.display="none","none"===l.style.display?l.style.display="block":l.style.display="none"},TryAreToolsEnabled(){return"function"===typeof AreToolsEnabled&&AreToolsEnabled()},AddTrack(t){this.tracks.push(t)},UpdateDetailsPanel(t){},fillDivs(){const t=[{TrackName:"Data 1",ArtistName:"Data 1",AlbumArt:"../DLC/ExampleSong/this_suffering_cover.jpg"},{TrackName:"Data 2",ArtistName:"Data 2",AlbumArt:"file:///M:/Projects/ME/Drumsmith/Assets/DLC/ExampleSong2/album.jpg"},{TrackName:"Data 3",ArtistName:"Data 3",AlbumArt:"image3.jpg"},{TrackName:"Data 4",ArtistName:"Data 4",AlbumArt:"image4.jpg"}];t.forEach((t=>{this.AddTrack(t)}))},SetFilters(t){const e=document.getElementById("TrackFilters");e.innerHTML="",t.forEach((t=>{e.innerHTML+=`<p\n    class="menu-text flyout-select"\n    onclick="FilterTracks(${t.FilterID}); closeFlyout('filterMenu');"\n  >\n  ${t.FilterName} (${t.Count})\n  </p>`})),e.innerHTML+="\n  <br />\n  <br />"}}};const R=(0,_.A)(j,[["render",E]]);var X=R;(0,n.Ef)(X).mount("#app")}},e={};function l(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,l),i.exports}l.m=t,function(){var t=[];l.O=function(e,n,r,i){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],i=t[u][2];for(var o=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(l.O).every((function(t){return l.O[t](n[s])}))?n.splice(s--,1):(o=!1,i<a&&(a=i));if(o){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,r,i]}}(),function(){l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,{a:e}),e}}(),function(){l.d=function(t,e){for(var n in e)l.o(e,n)&&!l.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={686:0};l.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,a=n[0],o=n[1],s=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(r in o)l.o(o,r)&&(l.m[r]=o[r]);if(s)var u=s(l)}for(e&&e(n);c<a.length;c++)i=a[c],l.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return l.O(u)},n=self["webpackChunkui"]=self["webpackChunkui"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=l.O(void 0,[504],(function(){return l(21)}));n=l.O(n)})();
//# sourceMappingURL=DLC.js.map