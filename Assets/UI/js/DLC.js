(function(){"use strict";var t={5351:function(t,e,i){var n=i(5130),l=i(6768),r=i(4232);const s=(0,l.Lk)("div",{id:"header",class:"header"},[(0,l.Lk)("button",{class:"filter-button",onclick:"LoadScene('Assets/MainMenu.lvl')"},[(0,l.Lk)("img",{src:"img/Esc_Key_Light.png",alt:"Icon"}),(0,l.Lk)("span",null,"Main Menu")]),(0,l.Lk)("button",{class:"filter-button",onclick:"ToggleTrackListVisibility()"},[(0,l.Lk)("span",null,"View Track List")])],-1),a={id:"sidebar",class:"sidebar"},o={id:"trackPanel",class:"content"},c={id:"trackDetails"},u={id:"myDivContainer",class:"main-content"},d={class:"dynamic-div BoldRegular Large"},k=(0,l.Lk)("div",{class:"clearfix"},null,-1),y=["onMouseenter"],f=["onClick"],m={key:0,class:"album-art",src:"file:///{{track.AlbumArt}}"},T=["src"],h={class:"album-title"},p={class:"BoldRegular Large"},L={class:"Regular Small"},v={class:"note-count"},g=["onClick"],b=["onClick"],A=(0,l.Lk)("div",{class:"clearfix"},null,-1),C=(0,l.Lk)("div",{id:"filterMenu",class:"flyout right"},[(0,l.Lk)("p",{class:"hover-underline-animation",onclick:"closeFlyout('filterMenu');"}," < Back "),(0,l.Lk)("br"),(0,l.Lk)("h1",null,"Sort"),(0,l.Lk)("br"),(0,l.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(0); closeFlyout('filterMenu');"}," Default "),(0,l.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(1); closeFlyout('filterMenu');"}," Title "),(0,l.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(2); closeFlyout('filterMenu');"}," Artist "),(0,l.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterSortTracks(3); closeFlyout('filterMenu');"}," Year "),(0,l.Lk)("br"),(0,l.Lk)("h1",null,"Filter"),(0,l.Lk)("br"),(0,l.Lk)("div",{id:"TrackFilters"},[(0,l.Lk)("p",{class:"menu-text flyout-select",onclick:"FilterTracks(0); closeFlyout('filterMenu');"}," None "),(0,l.Lk)("br")])],-1),x=(0,l.Lk)("div",{class:"footer"},[(0,l.Lk)("button",{class:"openButton filter-button",onclick:"openFlyout('filterMenu')"},[(0,l.Lk)("img",{class:"openButton",src:"img/Tab_Key_Light.png",alt:"Icon"}),(0,l.Lk)("span",{class:"openButton"},"Sorting (Ascending)")])],-1);function D(t,e,i,n,D,E){const S=(0,l.g2)("DetailsPanel"),F=(0,l.g2)("TrackRadio");return(0,l.uX)(),(0,l.CE)(l.FK,null,[s,(0,l.Lk)("div",a,[(0,l.Lk)("div",o,[(0,l.Lk)("div",c,[null!=this.focusedTrack?((0,l.uX)(),(0,l.Wv)(S,{key:0,track:this.focusedTrack},null,8,["track"])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",u,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(E.sortedSections,((e,i)=>((0,l.uX)(),(0,l.CE)("div",{key:i,class:"section"},[(0,l.Lk)("div",d,(0,r.v_)(e.header),1),k,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.items,((e,i)=>((0,l.uX)(),(0,l.CE)("div",{key:i,class:"dynamic-div",onMouseenter:()=>E.DelayedTrackPreview(e)},[(0,l.Lk)("div",{class:"dynamic-div",onClick:()=>E.SelectTrackToPlay(e.Title,i)},[e?.FolderPath?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("img",m)),e?.FolderPath?((0,l.uX)(),(0,l.CE)("img",{key:1,class:"album-art",src:`http://${this.TryGetDLCURL()}/${e.FolderPath}/${e.AlbumArtFileName}`},null,8,T)):(0,l.Q3)("",!0)],8,f),(0,l.Lk)("div",h,[(0,l.Lk)("h1",p,(0,r.v_)(e.Title),1),(0,l.Lk)("h2",L,(0,r.v_)(e.Artist),1),(0,l.Lk)("h3",null,(0,r.v_)(e.Year),1)]),(0,l.Lk)("div",v,"Note Count: "+(0,r.v_)(e.NoteCount),1),E.TryAreToolsEnabled()?((0,l.uX)(),(0,l.CE)("div",{key:0,onClick:()=>t.EditTrack(e.TrackName)},"DEV TOOLS ENABLED",8,g)):(0,l.Q3)("",!0),e?.FolderPath?((0,l.uX)(),(0,l.CE)("div",{key:1,onClick:()=>E.TryDownloadDLC(e)},"DOWNLOAD TRACK",8,b)):(0,l.Q3)("",!0),A],40,y)))),128))])))),128))]),C,x,(0,l.bF)(F)],64)}i(4114);const E={class:"album-art"},S={key:0,class:"album-art",src:"file:///{{track.AlbumArt}}"},F=["src"],w={class:"dynamic-div"},I={class:"album-title"},P={class:"note-count"},_=(0,l.Lk)("div",{class:"clearfix"},null,-1);function B(t,e,i,n,s,a){return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",E,[i.track?.FolderPath?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("img",S)),i.track?.FolderPath?((0,l.uX)(),(0,l.CE)("img",{key:1,class:"album-art",src:`http://${i.track.DLCURL}/${i.track.FolderPath}/${i.track.AlbumArtFileName}`},null,8,F)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",w,[(0,l.Lk)("div",I,[(0,l.Lk)("h1",null,(0,r.v_)(i.track.Title),1),(0,l.Lk)("h2",null,(0,r.v_)(i.track.Artist),1),(0,l.Lk)("h3",null,(0,r.v_)(i.track.Album),1),(0,l.Lk)("h3",null,(0,r.v_)(i.track.Genre),1),(0,l.Lk)("h3",null,(0,r.v_)(i.track.Year),1)]),(0,l.Lk)("div",P,"Note Count: "+(0,r.v_)(i.track.NoteCount),1),_]),(0,l.Lk)("div",{class:"dynamic-div",onClick:e[0]||(e[0]=t=>a.viewTrackStats(i.track.Title))}," View Stats ")],64)}var N={props:{track:{type:Object,required:!0}},methods:{selectTrackToPlay(t){console.log("Track selected:",t)},toggleTrackListVisibility(){console.log("Toggled track list visibility")},viewTrackStats(t){console.log("Viewing stats for track:",t)}}},R=i(1241);const $=(0,R.A)(N,[["render",B]]);var M=$;const U=t=>((0,l.Qi)("data-v-46cef18c"),t=t(),(0,l.jt)(),t),X=["onmouseover"],O=["onmouseover"],j=U((()=>(0,l.Lk)("div",{class:"track-art"},[(0,l.Lk)("img",{id:"track-art"})],-1))),V={class:"track-details"},W=U((()=>(0,l.Lk)("div",{class:"clearfix"},null,-1))),K=U((()=>(0,l.Lk)("div",{class:"clearfix"},null,-1))),Q=U((()=>(0,l.Lk)("div",{class:"skip-track",onclick:"SkipTrack()"},[(0,l.Lk)("a",{href:"#"},"Skip")],-1)));function G(t,e,i,n,s,a){const o=(0,l.g2)("ScrollingText");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",{id:"track-radio-hover",onmouseover:a.ShowTrackRadio},null,8,X),(0,l.Lk)("div",{id:"track-radio",class:(0,r.C4)({visible:s.isVisible}),onmouseover:a.ShowTrackRadio},[j,(0,l.Lk)("div",V,[(0,l.bF)(o,{baseId:"track-title",textStyle:"BoldRegular Large",text:s.trackTitle},null,8,["text"]),W,(0,l.bF)(o,{baseId:"track-artist",textStyle:"Regular Small",text:s.trackArtist},null,8,["text"]),K,Q])],10,O)],64)}const q=["id"],H=["id"];function Y(t,e,i,n,s,a){return(0,l.uX)(),(0,l.CE)("div",{class:(0,r.C4)(["scroll-container",i.containerStyle]),id:a.containerId},[(0,l.Lk)("div",{class:(0,r.C4)(["scroll-content",i.textStyle]),id:a.textId},(0,r.v_)(i.text),11,H)],10,q)}var J={props:{text:{type:String,default:"Scrollable Text"},baseId:{type:String,required:!0},containerStyle:{type:String,default:""},textStyle:{type:String,default:""}},data(){return{scrollingTextInstance:null}},computed:{containerId(){return`${this.baseId}-container`},textId(){return`${this.baseId}-text`}},mounted(){this.scrollingTextInstance=this.setupScrollingText(this.containerId,this.textId)},watch:{text(t,e){this.scrollingTextInstance.updateText(t)}},methods:{setupScrollingText(t,e){const i=document.getElementById(t),n=document.getElementById(e);let l,r=!0;function s(){return n.offsetWidth>i.offsetWidth}function a(){const t=n.offsetWidth,e=i.offsetWidth;return t/e*5}function o(){clearTimeout(l),n.style.transition="none",n.style.left="0",n.style.opacity="1"}function c(){if(o(),!r||!s())return;const t=a();l=setTimeout((()=>{n.style.transition=`left ${t}s linear`,n.style.left=`-${n.offsetWidth-i.offsetWidth}px`,l=setTimeout((()=>{n.style.transition="opacity 1s ease",n.style.opacity="0",l=setTimeout((()=>{n.style.transition="none",n.style.left="0",n.style.opacity="1",l=setTimeout((()=>{r&&(n.style.transition=`left ${t}s linear`,c())}),1e3)}),1e3)}),1e3*(t+1))}),1e3)}function u(t){r=!1,o(),n.textContent=t,setTimeout((()=>{r=!0,c()}),500)}function d(){r=!0,c()}function k(){r=!1,o()}return d(),{updateText:u,start:d,stop:k}},applyScrollFadeAnimation(t,e=1e3,i=5e3,n=2e3){const l=document.getElementById(t);function r(){const t=l.parentElement.offsetWidth,s=l.offsetWidth,a=s-t;setTimeout((()=>{l.style.transition=`transform ${i}ms linear`,l.style.transform=`translateX(-${a}px)`}),e),setTimeout((()=>{l.style.transition=`opacity ${n/2}ms linear`,l.style.opacity="0"}),i+e),setTimeout((()=>{l.style.transition="none",l.style.transform="translateX(0)",l.style.opacity="0",setTimeout((()=>{l.style.transition=`opacity ${n/2}ms linear`,l.style.opacity="1"}),100),setTimeout(r,n)}),i+e+n)}l&&r()}}};const z=(0,R.A)(J,[["render",Y],["__scopeId","data-v-c1e36282"]]);var Z=z,tt={components:{ScrollingText:Z},data(){return{titleTrackScrolling:null,trackTitle:"EXAMPLE TITLE",trackArtist:"EXAMPLE ARTIST",isVisible:!1,timer:null}},mounted(){window.DisplayTrack=this.DisplayTrack},beforeUnmount(){clearTimeout(this.timer)},methods:{ShowTrackRadio(){clearTimeout(this.timer),this.isVisible||(this.isVisible=!0),this.timer=setTimeout((()=>{this.isVisible&&(this.isVisible=!1)}),15e3)},DisplayTrack(t){var e=document.getElementById("track-art");e.src=`file:///${t.AlbumArt}`,this.trackTitle=`${t.TrackName}`,this.trackArtist=`${t.ArtistName}`,this.ShowTrackRadio()}}};const et=(0,R.A)(tt,[["render",G],["__scopeId","data-v-46cef18c"]]);var it,nt=et,lt={name:"DLC",components:{DetailsPanel:M,TrackRadio:nt},data(){return{tracks:[],sortBy:"Title",dlcIndex:[],focusedTrack:null}},mounted(){this.fetchDlcIndex(),window.UpdateDetailsPanel=this.UpdateDetailsPanel},computed:{sortedSections(){const t=this.tracks.reduce(((t,e)=>{let i;if("Artist"===this.sortBy){const t=e.Artist?e.Artist.trim():"Unknown";i=t[0]?.toUpperCase()||"Unknown"}else if("Title"===this.sortBy){const t=e.Title?e.Title.trim():"Unknown";i=t[0]?.toUpperCase()||"Unknown"}else i=e[this.sortBy]||"Unknown";return t[i]||(t[i]=[]),t[i].push(e),t}),{});return Object.keys(t).sort().map((e=>({header:e,items:t[e].sort(((t,e)=>"Artist"===this.sortBy?t.Artist.localeCompare(e.Artist):t[this.sortBy]?.toString().localeCompare(e[this.sortBy]?.toString()||"")))})))}},methods:{async fetchDlcIndex(){try{const t=await fetch("https://"+this.TryGetDLCURL()+"/dlc_index.json");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);this.dlcIndex=await t.json(),this.dlcIndex.forEach((t=>{t.AlbumArtFileName||(t.AlbumArtFileName="Album.png"),this.AddTrack(t)}))}catch(t){console.error("Error fetching DLC index:",t)}},TryGetDLCURL(){return"function"===typeof GetDLCURL?GetDLCURL():"dlc.mitch.gg"},TryDownloadDLC(t){"function"===typeof DownloadDLC&&DownloadDLC(JSON.stringify(t))},RequestDetailsPanelUpdate2(t){if("function"===typeof RequestDetailsPanelUpdate)return RequestDetailsPanelUpdate(t)},SelectTrackToPlay(t,e){console.log(`SelectTrackToPlay called with Title: ${t}, Index: ${e}`)},DelayedTrackPreview(t){clearTimeout(it),this.focusedTrack=t,this.focusedTrack.DLCURL=this.TryGetDLCURL(),console.log(t)},ClearTrackList(){const t=document.getElementById("myDivContainer"),e=t.querySelectorAll(".dynamic-div");e.forEach((t=>t.remove()))},ToggleTrackListVisibility(){var t=document.getElementById("sidebar"),e=document.getElementById("background"),i=document.getElementById("main-body");"none"===t.style.display?t.style.display="flex":t.style.display="none","none"===e.style.display?e.style.display="block":e.style.display="none","none"===i.style.display?i.style.display="block":i.style.display="none"},TryAreToolsEnabled(){return"function"===typeof AreToolsEnabled&&AreToolsEnabled()},AddTrack(t){this.tracks.push(t)},UpdateDetailsPanel(t){},fillDivs(){const t=[{TrackName:"Data 1",ArtistName:"Data 1",AlbumArt:"../DLC/ExampleSong/this_suffering_cover.jpg"},{TrackName:"Data 2",ArtistName:"Data 2",AlbumArt:"file:///M:/Projects/ME/Drumsmith/Assets/DLC/ExampleSong2/album.jpg"},{TrackName:"Data 3",ArtistName:"Data 3",AlbumArt:"image3.jpg"},{TrackName:"Data 4",ArtistName:"Data 4",AlbumArt:"image4.jpg"}];t.forEach((t=>{this.AddTrack(t)}))},SetFilters(t){const e=document.getElementById("TrackFilters");e.innerHTML="",t.forEach((t=>{e.innerHTML+=`<p\n    class="menu-text flyout-select"\n    onclick="FilterTracks(${t.FilterID}); closeFlyout('filterMenu');"\n  >\n  ${t.FilterName} (${t.Count})\n  </p>`})),e.innerHTML+="\n  <br />\n  <br />"}}};const rt=(0,R.A)(lt,[["render",D]]);var st=rt;(0,n.Ef)(st).mount("#app")}},e={};function i(n){var l=e[n];if(void 0!==l)return l.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,i),r.exports}i.m=t,function(){var t=[];i.O=function(e,n,l,r){if(!n){var s=1/0;for(u=0;u<t.length;u++){n=t[u][0],l=t[u][1],r=t[u][2];for(var a=!0,o=0;o<n.length;o++)(!1&r||s>=r)&&Object.keys(i.O).every((function(t){return i.O[t](n[o])}))?n.splice(o--,1):(a=!1,r<s&&(s=r));if(a){t.splice(u--,1);var c=l();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,l,r]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={686:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var l,r,s=n[0],a=n[1],o=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(l in a)i.o(a,l)&&(i.m[l]=a[l]);if(o)var u=o(i)}for(e&&e(n);c<s.length;c++)r=s[c],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(u)},n=self["webpackChunkui"]=self["webpackChunkui"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],(function(){return i(5351)}));n=i.O(n)})();
//# sourceMappingURL=DLC.js.map