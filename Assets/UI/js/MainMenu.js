(function(){"use strict";var e={8869:function(e,t,n){var i=n(5130),a=n(6768),o=n(4232);const l=e=>((0,a.Qi)("data-v-4b460e95"),e=e(),(0,a.jt)(),e),r={id:"main-menu",class:"main-menu",style:{height:"1000px"}},s=l((()=>(0,a.Lk)("img",{src:"img/2x/Asset 2@2x.png"},null,-1))),c=l((()=>(0,a.Lk)("br",null,null,-1))),u=l((()=>(0,a.Lk)("img",{src:"img/Underline.png",class:"underline-bar"},null,-1))),d=l((()=>(0,a.Lk)("br",null,null,-1))),m={class:"menu-items"},p=l((()=>(0,a.Lk)("br",null,null,-1))),f=l((()=>(0,a.Lk)("br",null,null,-1))),v=l((()=>(0,a.Lk)("br",null,null,-1))),k=l((()=>(0,a.Lk)("br",null,null,-1))),y=l((()=>(0,a.Lk)("br",null,null,-1))),h={id:"settingsMenu",class:"options-menu menu",style:{height:"1000px"}},L=(0,a.Fv)('<br data-v-4b460e95><br data-v-4b460e95><label class="container" name="EnableRadio" id="radio-enabled" data-v-4b460e95><p class="menu-text" data-v-4b460e95>Enable Radio</p><input type="checkbox" data-v-4b460e95><span class="checkmark" data-v-4b460e95></span></label><p class="menu-text" id="menu-volume-text" data-v-4b460e95>Radio Volume</p><br data-v-4b460e95><input type="range" name="RadioVolume" id="radio-volume" min="0" max="100" step="1" value="50" class="slider" data-v-4b460e95>',6),g={class:"menu-text",id:"menu-volume-text"},C=l((()=>(0,a.Lk)("br",null,null,-1))),b=l((()=>(0,a.Lk)("br",null,null,-1))),x={class:"menu-text",id:"menu-volume-text"},S=l((()=>(0,a.Lk)("br",null,null,-1))),T=l((()=>(0,a.Lk)("p",{class:"menu-text",id:"menu-volume-text"},"DLC Server",-1))),I={class:"url-input-container"},D=l((()=>(0,a.Lk)("span",{class:"prefix"},"http://",-1))),A=l((()=>(0,a.Lk)("span",{class:"link-icon"}," ðŸ”— ",-1))),_=l((()=>(0,a.Lk)("br",null,null,-1))),E=l((()=>(0,a.Lk)("p",{class:"hover-underline-animation pink",onclick:"ConvertCustomDLC()"}," Convert Custom DLC ",-1))),R=l((()=>(0,a.Lk)("h3",null,"Select a MIDI Device:",-1))),V={key:0},w=["value"],F={key:1};function P(e,t,n,l,P,M){const G=(0,a.g2)("MenuItem"),$=(0,a.g2)("VisualLatencyTest"),B=(0,a.g2)("TrackRadio");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",r,[s,c,u,d,(0,a.Lk)("div",m,[(0,a.bF)(G,{text:"PLAY",onClick:()=>M.loadScene("Assets/TrackList.lvl")},null,8,["onClick"]),p,(0,a.bF)(G,{text:"PRACTICE",colorClass:"green",onClick:M.practice},null,8,["onClick"]),f,(0,a.bF)(G,{text:"DLC",colorClass:"pink",onClick:()=>M.LoadDLCScene("Assets/DLC.lvl")},null,8,["onClick"]),v,(0,a.bF)(G,{text:"Vocal Test",colorClass:"pink",onClick:()=>M.LoadDLCScene("Assets/Vocals.lvl")},null,8,["onClick"]),k,(0,a.bF)(G,{text:"SETTINGS",colorClass:"orange",onClick:M.toggleMenu},null,8,["onClick"]),y,(0,a.bF)(G,{text:"EXIT",colorClass:"red",onClick:M.quit},null,8,["onClick"])])]),(0,a.Lk)("div",h,[(0,a.bF)(G,{text:"Back",onClick:M.closeSettings},null,8,["onClick"]),L,(0,a.Lk)("p",g,"Audio Delay ("+(0,o.v_)(P.audioLatency)+"ms)",1),C,(0,a.bo)((0,a.Lk)("input",{type:"range",name:"AudioDelay",id:"audio-delay",min:"0",max:"100",step:"1",value:"50",class:"slider","onUpdate:modelValue":t[0]||(t[0]=e=>P.audioLatency=e),onChange:t[1]||(t[1]=(...e)=>M.updateAudioLatency&&M.updateAudioLatency(...e))},null,544),[[i.Jo,P.audioLatency]]),b,(0,a.Lk)("p",x,"Visual Delay ("+(0,o.v_)(P.videoLatency)+"ms)",1),(0,a.bo)((0,a.Lk)("input",{type:"range",name:"VideoDelay",id:"video-delay",min:"0",max:"100",step:"1",value:"50",class:"slider","onUpdate:modelValue":t[2]||(t[2]=e=>P.videoLatency=e),onChange:t[3]||(t[3]=(...e)=>M.updateVideoLatency&&M.updateVideoLatency(...e))},null,544),[[i.Jo,P.videoLatency]]),S,T,(0,a.Lk)("div",I,[D,(0,a.Lk)("input",{class:"myinput-link",onKeydown:t[4]||(t[4]=(0,i.jR)(((...e)=>M.SetDLCURL&&M.SetDLCURL(...e)),["enter"]))},null,32),A]),_,E,(0,a.Lk)("div",null,[R,P.midiDevices.length>0?((0,a.uX)(),(0,a.CE)("div",V,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(P.midiDevices,(e=>((0,a.uX)(),(0,a.CE)("label",{key:e.Port},[(0,a.bo)((0,a.Lk)("input",{type:"radio",value:e.Port,"onUpdate:modelValue":t[5]||(t[5]=e=>P.selectedDevice=e),onChange:t[6]||(t[6]=(...e)=>M.updatePreferredDevice&&M.updatePreferredDevice(...e))},null,40,w),[[i.XL,P.selectedDevice]]),(0,a.eW)(" "+(0,o.v_)(e.Name),1)])))),128))])):((0,a.uX)(),(0,a.CE)("p",F,"No devices available")),(0,a.Lk)("p",null,"Selected Device: "+(0,o.v_)(M.selectedDeviceName),1)]),(0,a.bF)(G,{text:"Save Settings",colorClass:"green",onClick:M.saveSettings},null,8,["onClick"]),(0,a.bF)($)]),(0,a.bF)(B)],64)}function M(e,t,n,i,l,r){return(0,a.uX)(),(0,a.CE)("p",{class:(0,o.C4)(["hover-underline-animation",n.colorClass]),onClick:t[0]||(t[0]=(...e)=>r.handleClick&&r.handleClick(...e))},(0,o.v_)(n.text),3)}var G={props:{text:{type:String,required:!0},colorClass:{type:String,required:!1,default:""},onClick:{type:Function,required:!0}},methods:{handleClick(){this.onClick()}}},$=n(1241);const B=(0,$.A)(G,[["render",M],["__scopeId","data-v-2bb7251a"]]);var U=B;const N=e=>((0,a.Qi)("data-v-3384fd46"),e=e(),(0,a.jt)(),e),X=["onmouseover"],O=["onmouseover"],W=N((()=>(0,a.Lk)("div",{class:"track-art"},[(0,a.Lk)("img",{id:"track-art"})],-1))),j={class:"track-details"},q=N((()=>(0,a.Lk)("div",{class:"clearfix"},null,-1))),J=N((()=>(0,a.Lk)("div",{class:"clearfix"},null,-1))),K=N((()=>(0,a.Lk)("div",{class:"skip-track",onclick:"SkipTrack()"},[(0,a.Lk)("a",{href:"#"},"Skip")],-1))),Q={class:"track-progress"},z=["max"],Y={class:"progress-labels"},H=N((()=>(0,a.Lk)("span",null,"/",-1)));function Z(e,t,n,l,r,s){const c=(0,a.g2)("ScrollingText");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",{id:"track-radio-hover",onmouseover:s.ShowTrackRadio},null,8,X),(0,a.Lk)("div",{id:"track-radio",class:(0,o.C4)({visible:r.isVisible}),onmouseover:s.ShowTrackRadio},[W,(0,a.Lk)("div",j,[(0,a.bF)(c,{baseId:"track-title",textStyle:"BoldRegular Large",text:r.trackTitle},null,8,["text"]),q,(0,a.bF)(c,{baseId:"track-artist",textStyle:"Regular Small",text:r.trackArtist},null,8,["text"]),J,K]),(0,a.Lk)("div",Q,[(0,a.bo)((0,a.Lk)("input",{type:"range",min:"0",max:r.duration,step:"1","onUpdate:modelValue":t[0]||(t[0]=e=>r.currentTime=e),onChange:t[1]||(t[1]=(...e)=>s.seekAudio&&s.seekAudio(...e))},null,40,z),[[i.Jo,r.currentTime]]),(0,a.Lk)("div",Y,[(0,a.Lk)("span",null,(0,o.v_)(s.formatTime(r.currentTime)),1),H,(0,a.Lk)("span",null,(0,o.v_)(s.formatTime(r.duration)),1)])])],10,O)],64)}const ee=["id"],te=["id"];function ne(e,t,n,i,l,r){return(0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)(["scroll-container",n.containerStyle]),id:r.containerId},[(0,a.Lk)("div",{class:(0,o.C4)(["scroll-content",n.textStyle]),id:r.textId},(0,o.v_)(n.text),11,te)],10,ee)}var ie={props:{text:{type:String,default:"Scrollable Text"},baseId:{type:String,required:!0},containerStyle:{type:String,default:""},textStyle:{type:String,default:""}},data(){return{scrollingTextInstance:null}},computed:{containerId(){return`${this.baseId}-container`},textId(){return`${this.baseId}-text`}},mounted(){this.scrollingTextInstance=this.setupScrollingText(this.containerId,this.textId)},watch:{text(e,t){this.scrollingTextInstance.updateText(e)}},methods:{setupScrollingText(e,t){const n=document.getElementById(e),i=document.getElementById(t);let a,o=!0;function l(){return i.offsetWidth>n.offsetWidth}function r(){const e=i.offsetWidth,t=n.offsetWidth;return e/t*5}function s(){clearTimeout(a),i.style.transition="none",i.style.left="0",i.style.opacity="1"}function c(){if(s(),!o||!l())return;const e=r();a=setTimeout((()=>{i.style.transition=`left ${e}s linear`,i.style.left=`-${i.offsetWidth-n.offsetWidth}px`,a=setTimeout((()=>{i.style.transition="opacity 1s ease",i.style.opacity="0",a=setTimeout((()=>{i.style.transition="none",i.style.left="0",i.style.opacity="1",a=setTimeout((()=>{o&&(i.style.transition=`left ${e}s linear`,c())}),1e3)}),1e3)}),1e3*(e+1))}),1e3)}function u(e){o=!1,s(),i.textContent=e,setTimeout((()=>{o=!0,c()}),500)}function d(){o=!0,c()}function m(){o=!1,s()}return d(),{updateText:u,start:d,stop:m}},applyScrollFadeAnimation(e,t=1e3,n=5e3,i=2e3){const a=document.getElementById(e);function o(){const e=a.parentElement.offsetWidth,l=a.offsetWidth,r=l-e;setTimeout((()=>{a.style.transition=`transform ${n}ms linear`,a.style.transform=`translateX(-${r}px)`}),t),setTimeout((()=>{a.style.transition=`opacity ${i/2}ms linear`,a.style.opacity="0"}),n+t),setTimeout((()=>{a.style.transition="none",a.style.transform="translateX(0)",a.style.opacity="0",setTimeout((()=>{a.style.transition=`opacity ${i/2}ms linear`,a.style.opacity="1"}),100),setTimeout(o,i)}),n+t+i)}a&&o()}}};const ae=(0,$.A)(ie,[["render",ne],["__scopeId","data-v-c1e36282"]]);var oe=ae,le={components:{ScrollingText:oe},data(){return{trackTitle:"EXAMPLE TITLE",trackArtist:"EXAMPLE ARTIST",isVisible:!1,timer:null,currentTime:0,duration:0,updateIntervalId:null}},mounted(){if(window.DisplayTrack=this.DisplayTrack,"function"===typeof GetCurrentTrackDuration){var e=GetCurrentTrackDuration();this.duration=e/1e3}this.updateIntervalId=setInterval((()=>{if(0===this.duration&&"function"===typeof GetCurrentTrackDuration){var e=GetCurrentTrackDuration();this.duration=e/1e3}if("function"===typeof GetCurrentTrackPosition){e=GetCurrentTrackPosition();this.currentTime=e/1e3}}),1e3)},beforeUnmount(){clearTimeout(this.timer),clearInterval(this.updateIntervalId)},methods:{ShowTrackRadio(){clearTimeout(this.timer),this.isVisible||(this.isVisible=!0),this.timer=setTimeout((()=>{this.isVisible&&(this.isVisible=!1)}),15e3)},DisplayTrack(e){var t=document.getElementById("track-art");if(t.src=`file:///${e.AlbumArt}`,this.trackTitle=`${e.TrackName}`,this.trackArtist=`${e.ArtistName}`,"function"===typeof GetCurrentTrackDuration){var n=GetCurrentTrackDuration();this.duration=n/1e3}if("function"===typeof GetCurrentTrackPosition){n=GetCurrentTrackPosition();this.currentTime=n/1e3}this.ShowTrackRadio()},seekAudio(){if("function"===typeof SeekToPosition){const e=this.currentTime/this.duration;SeekToPosition(e)}},formatTime(e){if(!e)return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60).toString().padStart(2,"0");return`${t}:${n}`}}};const re=(0,$.A)(le,[["render",Z],["__scopeId","data-v-3384fd46"]]);var se=re;const ce=(0,a.Fv)('<div id="game"><div class="line target-line"></div><div class="line moving-line"></div></div><p id="message">Press any key when the moving line aligns with the target line.</p><p id="average">Average Accuracy: N/A</p>',3);function ue(e,t,n,i,a,o){return ce}var de={data(){return{ringBufferSize:10,accuracies:[],currentIndex:0}},mounted(){this.accuracies=Array(this.ringBufferSize).fill(null),document.addEventListener("keydown",(()=>{const e=document.querySelector(".moving-line"),t=document.querySelector(".target-line"),n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),a=n.left+n.width/2,o=i.left+i.width/2,l=Math.abs(a-o);this.accuracies[this.currentIndex]=l,this.currentIndex=(this.currentIndex+1)%this.ringBufferSize;const r=this.accuracies.filter((e=>null!==e)),s=r.reduce(((e,t)=>e+t),0)/r.length,c=document.getElementById("message");c.textContent=l<10?"Great timing! Accuracy: "+l.toFixed(2)+"px":"Missed! Accuracy: "+l.toFixed(2)+"px",document.getElementById("average").textContent=`Average Accuracy (last ${r.length} attempts): ${s.toFixed(2)}px`}))}};const me=(0,$.A)(de,[["render",ue]]);var pe=me,fe={components:{MenuItem:U,TrackRadio:se,VisualLatencyTest:pe},data(){return{midiDevices:[{Name:"Test",Port:0}],selectedDevice:null,audioLatency:0,videoLatency:0,radioEnabled:!1,radioVolume:50}},computed:{inputText:{get(){return"function"===typeof GetDLCURL_Internal?GetDLCURL_Internal():"dlc.example.com"},set(e){"function"===typeof SetDLCURL_Internal&&SetDLCURL_Internal(e)}},selectedDeviceName(){const e=this.midiDevices.find((e=>e.Port===this.selectedDevice));return e?e.Name:"None"}},mounted(){"function"===typeof GetMIDIDevices_Internal&&(console.log(GetMIDIDevices_Internal()),this.midiDevices=JSON.parse(GetMIDIDevices_Internal())),"function"===typeof GetRadioVolume_Internal&&(this.radioVolume=GetRadioVolume_Internal())},methods:{loadScene(e){"function"===typeof LoadScene&&LoadScene(e),window.location.href="/SongList.html"},LoadDLCScene(e){"function"===typeof LoadScene&&LoadScene(e),window.location.href="/DLC_NEW.html"},SetDLCURL(){"function"===typeof SetDLCURL_Internal&&SetDLCURL_Internal(this.inputText)},practice(){console.log("Starting practice mode")},setRadioVolume(){"function"===typeof SetRadioVolume_Internal&&SetRadioVolume_Internal(this.radioVolume)},updatePreferredDevice(){console.log("Selected MIDI Device Index:",this.selectedDevice),"function"===typeof SetPreferredMidiDevice_Internal&&SetPreferredMidiDevice_Internal(this.selectedDeviceName)},updateAudioLatency(){"function"===typeof SetAudioLatency_Internal&&SetAudioLatency_Internal(this.audioLatency)},updateVideoLatency(){"function"===typeof SetVideoLatency_Internal&&SetVideoLatency_Internal(this.videoLatency)},toggleMenu(){const e=document.getElementById("settingsMenu"),t=document.getElementById("main-menu");e.classList.contains("active")?(e.classList.remove("active"),t.classList.remove("content-fade")):(e.classList.add("active"),t.classList.add("content-fade"))},saveSettings(){"function"===typeof SaveSettings&&SaveSettings()},closeSettings(){this.toggleMenu(),this.saveSettings()},quit(){"function"===typeof Quit&&Quit()}}};const ve=(0,$.A)(fe,[["render",P],["__scopeId","data-v-4b460e95"]]);var ke=ve;(0,i.Ef)(ke).mount("#main-menu-app")}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,o){if(!i){var l=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],o=e[u][2];for(var r=!0,s=0;s<i.length;s++)(!1&o||l>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[s])}))?i.splice(s--,1):(r=!1,o<l&&(l=o));if(r){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={853:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,l=i[0],r=i[1],s=i[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(s)var u=s(n)}for(t&&t(i);c<l.length;c++)o=l[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},i=self["webpackChunkui"]=self["webpackChunkui"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(8869)}));i=n.O(i)})();
//# sourceMappingURL=MainMenu.js.map